<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="layout/layout::head(~{::title},~{::link})">
    <title>Empleados</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <!--  DataTables -->
    <link th:href="@{/datatable/bootstrap.css}" rel="stylesheet"/>
    <link th:href="@{/datatable/dataTables.bootstrap4.min.css}" rel="stylesheet" />
</head>
<body class="">
<div th:replace="layout/layout::sidebar"></div>
<div class="main-panel">
    <!-- Navbar -->
    <nav th:replace="layout/layout::navBar"></nav>
    <!-- End Navbar -->
    <div style="margin-top:100px;padding:25px">
        <div class="card">
            <div class="card-header" style="background-color: #eee6cf">
                <div class="d-flex">
                    <div class="p-2 flex-fill"><h4>Lista de Empleados</h4></div>
                    <div class="p-2">
                        <a th:href="@{/formEmployee}" class="btn btn-info btn-lg" >Crear Empleado</a>
                    </div>
                </div>
            </div>
            <div class="d-flex gap-4 justify-content-center">
                <div class="card-body" style="background-color: white">
                    <table class="table" id="employeesTable" style="padding:20px" box-shadow="5px 5px 15px 5px #0E0C14">

                        <thead class="text-primary">
                        <tr>
                            <h1>
                                <th scope="col">Id</th>
                                <th scope="col">Nombre</th>
                                <th scope="col">Email</th>
                                <th scope="col">Rol</th>
                                <th scope="col">Opciones</th>
                            </h1>

                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each= "employee : ${employees}">
                            <th scope="row" th:text = "${employee.id_employee}"></th>
                            <td th:text = "${employee.nombreEmpleado}"></td>
                            <td th:text = "${employee.emailEmpleado}"></td>
                            <td th:text = "${employee.role}"></td>
                            <td>
                                <a th:href="@{/formActEmpleado/{id_employee} (id_employee = ${employee.id_employee})}" class="btn btn-outline-success btn-sm">✍Editar</a>
                                <a th:href="@{/eliminarEmpleado/{id_employee} (id_employee=${employee.id_employee})}" class="btn btn-outline-danger btn-sm">❌Eliminar</a>
                            </td>

                        </tbody>

                    </table>
                    <!--           <div class="card-footer" style="background-color: #f8f9fa">-->
                    <!--          <h5>fin de la card</h5>-->
                    <!--        </div>-->
                </div>
            </div>
            <footer th:include="layout/layout::footer"></footer>
        </div>
    </div>
</div>
</div>
<script th:src="@{/datatable/jquery-3.5.1.js}" type="text/javascript"></script>
<script th:src="@{/datatable/jquery.dataTables.min.js}" type="text/javascript"></script>
<script th:src="@{/datatable/dataTables.bootstrap4.min.js}" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    $(document).ready(function() {
		$("#employeesTable").DataTable({
		    language: {
		        url: "//cdn.datatables.net/plug-ins/1.10.16/i18n/Spanish.json"
		    }
		})
	})
</script>
</body>
</html>
